schema: '2.0'
stages:
  data_ingestion:
    cmd: python3 src/data_ingestion.py
    deps:
    - path: params.yaml
      hash: md5
      md5: 2c2a872c4ff327e7665d3acdfc256a7a
      size: 324
    - path: src/data_ingestion.py
      hash: md5
      md5: 862f306a32291afcc1fefca2e32f57b9
      size: 3478
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/raw/test.csv
      hash: md5
      md5: 20b454045a5fe7473672c9ed196d389e
      size: 95044
    - path: data/raw/train.csv
      hash: md5
      md5: 04d4f953627732df3c707bb9a151c90c
      size: 384228
  data_preprocessing:
    cmd: python3 src/data_preprocessing.py
    deps:
    - path: data/raw/test.csv
      hash: md5
      md5: 20b454045a5fe7473672c9ed196d389e
      size: 95044
    - path: data/raw/train.csv
      hash: md5
      md5: 04d4f953627732df3c707bb9a151c90c
      size: 384228
    - path: src/data_preprocessing.py
      hash: md5
      md5: 071a9bd5933c588253a268264538d8e0
      size: 5427
    outs:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 35a5f290d8d70a75487cb712251b9467
      size: 52146
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 39571b6ef2df7906a44c9ce90ed928e5
      size: 203794
  feature_engineering:
    cmd: python3 src/feature_engineering.py
    deps:
    - path: data/interim/test_processed.csv
      hash: md5
      md5: 35a5f290d8d70a75487cb712251b9467
      size: 52146
    - path: data/interim/train_processed.csv
      hash: md5
      md5: 39571b6ef2df7906a44c9ce90ed928e5
      size: 203794
    - path: params.yaml
      hash: md5
      md5: 2c2a872c4ff327e7665d3acdfc256a7a
      size: 324
    - path: src/feature_engineering.py
      hash: md5
      md5: 5fb532a7bde1c4f5c397b08d2c906981
      size: 4905
    params:
      params.yaml:
        feature_engineering.max_features: 4000
    outs:
    - path: artifacts/tfidf_vectorizer.pkl
      hash: md5
      md5: 816bd0f1af03a4860f54c33151e7987d
      size: 141969
    - path: data/processed/test_tfidf.csv
      hash: md5
      md5: 49d2539653f7f5dc6cd043764b9d2576
      size: 17420458
    - path: data/processed/train_tfidf.csv
      hash: md5
      md5: e63b328005d3ed03bb64b250aa0aed08
      size: 67536720
  model_building:
    cmd: python3 src/model_building.py
    deps:
    - path: data/processed/train_tfidf.csv
      hash: md5
      md5: e63b328005d3ed03bb64b250aa0aed08
      size: 67536720
    - path: params.yaml
      hash: md5
      md5: 2c2a872c4ff327e7665d3acdfc256a7a
      size: 324
    - path: src/model_building.py
      hash: md5
      md5: 36ba87cf0a430a4b7c6960bd19d13bcb
      size: 4934
    params:
      params.yaml:
        model_building.model_name: logreg
        models.logreg.C: 1.0
        models.logreg.class_weight: balanced
        models.logreg.max_iter: 2000
        models.nb.alpha: 1.0
        models.rf.class_weight: balanced
        models.rf.max_depth:
        models.rf.n_estimators: 500
        models.rf.random_state: 42
    outs:
    - path: artifacts/model.pkl
      hash: md5
      md5: b99ba208f99bfd64898ecb9f2507f926
      size: 32863
  model_evaluation:
    cmd: python3 src/model_evaluation.py
    deps:
    - path: artifacts/model.pkl
      hash: md5
      md5: b99ba208f99bfd64898ecb9f2507f926
      size: 32863
    - path: data/processed/test_tfidf.csv
      hash: md5
      md5: 49d2539653f7f5dc6cd043764b9d2576
      size: 17420458
    - path: params.yaml
      hash: md5
      md5: 2c2a872c4ff327e7665d3acdfc256a7a
      size: 324
    - path: src/model_evaluation.py
      hash: md5
      md5: 1ccf73bb34abe210fbe5c3d879bfaad7
      size: 5175
    outs:
    - path: dvclive/metrics.json
      hash: md5
      md5: 38003c36cd6ae7f3e186dc1d80bbfc42
      size: 141
    - path: dvclive/plots/metrics
      hash: md5
      md5: 3fde762a61422aea68fda7f66c2e8f0c.dir
      size: 134
      nfiles: 4
